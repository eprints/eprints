#!/usr/bin/perl -w

######################################################################
#
# cjg
#
######################################################################
#
#  __COPYRIGHT__
#
# Copyright 2000-2008 University of Southampton. All Rights Reserved.
# 
#  __LICENSE__
#
######################################################################

use EPrints::Session;
use EPrints::HTMLRender;
use EPrints::ImportXML;
use strict;

my $session = new EPrints::Session( 1 );

EPrints::ImportXML::import_file( $session , $ARGV[0] , \&deal );

$session->terminate();

exit;

sub deal 
{
	my( $session , $table , $eprint ) = @_;
print EPrints::Log::render_struct( $eprint );
	print $session->{render}->render_eprint_citation( $eprint, 0, 0)."\n";
	print "------------\n";
	return;
	if( $session->{database}->exists( $table , $eprint->{eprintid} ) )
	{
		print  "EXISTS!\n";
	}
	else
	{
		print  "NOT EXISTS!\n";
	}
	print "------------\n";
}

